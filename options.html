<html>
<head><title>Trac Chrome Extension</title></head>
<script type="text/javascript">

/**
 * Function to save the configurations
 */
function saveConfigurations() {

	var select = document.getElementById("iTracRssUrl");
	var tracRssUrl = select.value;
	localStorage["tracRssUrl"] = tracRssUrl;

	// Update status to let user know options were saved.
	var status = document.getElementById("status");
	status.innerHTML = "Options Saved.";
	setTimeout(function() {
		status.innerHTML = "";
	}, 750);

	chrome.extension.getBackgroundPage().update();
}

// Restores select box state to saved value from localStorage.
function restoreConfigurations() {
	var tracRssUrl = localStorage["tracRssUrl"];
	if (!tracRssUrl) {
		return;
	}
	var tracRssUrlTextField = document.getElementById("iTracRssUrl");
	tracRssUrlTextField.value = tracRssUrl;
}

</script>

<body onload="restoreConfigurations()">
<h1><img src='images/Trac_Logo_48.png' />Trac Chrome Extension</h1>
<div id='status'></div>
Trac Rss Feed Url : <input type='text' id='iTracRssUrl' name='tracRssUrl' size=80 />
<br>
<button onclick="saveConfigurations()">Save</button>
</body>
</html>